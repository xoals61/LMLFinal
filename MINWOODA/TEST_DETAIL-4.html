<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>메인</title>
    <script src="http://code.jquery.com/jquery-3.5.1.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css">
    <link rel="stylesheet" href="./css/final_main.css">
    <link rel="stylesheet" href="./css/board-detail.css">
</head>
<body>
    <header>
        <div class="hTitle">
            <div class="nav1">
                <div class="hTitle1"><img src="./images/logo/logo_medium.png" class="titleImg"/></div>
                <div class="hTitle1">
                    <form action="#" autocomplete="off">
                        <fieldset class="sUrl">
                            <input class="searchInput" type="text" required placeholder=" 검색">
                            <div class="sAfter"></div>
                        </fieldset>
                    </form>
                </div>
                <div class="hTitle1">
                    <div class="htMenu">
                        <div class="myMenu">
                            <img src="./images/icon/menu/iconmonstr-menu-thin-72.png"><!-- 이미지 클릭 시 서브메뉴 나옴 -->
                            <ul class="mySub">
                                <li><div class="mySub1">마이페이지</div></li>
                                <li><div class="mySub1">설정</div></li>
                                <li><div class="mySub1">로그아웃</div></li>
                            </ul>
                        </div><!--메뉴-->
                        <div class="heart"><img src="./images/icon/menu/iconmonstr-heart-thin-72.png" class="heart heartIcon"></div><!--알림-->
                        <div><img src="./images/icon/menu/iconmonstr-speech-bubble-thin-72.png"></div><!--채팅-->
                    </div>
                </div>
            </div>
        </div>
        <div class="hMenu">
            <div class="hMenu1">
                <div class="hMenu2 on"><span>인기순</span></div>
                <div class="hMenu2"><span>최신순</span></div>
                <div class="hMenu2"><span>팔로잉</span></div>
                <div class="hMenu2"><span>QnA</span></div>
                <span></span>
            </div>
        </div>
    </header>
    <section>
        <div class="board-detail">
            <img src="./images/theman.jpg">
            <div class="right">
                <div class="board-title">
                    <img src="./images/40x40man.jpg">
                    <div class="board-id">__maybenotyet__ </div>
                    <div class="board-name">모성민</div>
                </div>
                <div class="board-text">글 내용
                    
                </div>
                <div class="board-comment">댓글</div>
                <div class="board-comment1">댓글1</div>
                <div class="board-comment2">댓글2</div>
            </div>
        </div>
        <div class="sContent">
            <div class="ctable">
                <table>
                    <tbody>
                        <tr>
                            <td><div class="content"></div></td>
                            <td><div class="content"></div></td>
                            <td><div class="content"></div></td>
                        </tr>
                        <tr>
                            <td><div class="content"></div></td>
                            <td><div class="content"></div></td>
                            <td><div class="content"></div></td>
                        </tr>
                        <tr>
                            <td><div class="content"></div></td>
                            <td><div class="content"></div></td>
                            <td><div class="content"></div></td>
                        </tr>
                        <tr>
                            <td><div class="content"></div></td>
                            <td><div class="content"></div></td>
                            <td><div class="content"></div></td>
                        </tr>
                        <tr>
                            <td><div class="content"></div></td>
                            <td><div class="content"></div></td>
                            <td><div class="content"></div></td>
                        </tr>
                        <tr>
                            <td><div class="content"></div></td>
                            <td><div class="content"></div></td>
                            <td><div class="content"></div></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </section>

      <script>
          /* 상단 메뉴 스크롤 */
          $(function () {
            var lastScrollTop = 0,
                delta = 15;
            $(window).scroll(function (event) {
                var st = $(this).scrollTop();
                if (Math.abs(lastScrollTop - st) <= delta) return;
                if ((st > lastScrollTop) && (lastScrollTop > 0)) {
                    $(".hMenu").css("top", "0px");
                } else {
                    $(".hMenu").css("top", "50px");
                }
                lastScrollTop = st;
            });
        });

        $(document).ready(function(){
            $('.hMenu2').on('click', function(){
                $(this).addClass('on');
                $(this).siblings().removeClass('on');
            });
        });
      </script>

      <script>
        /* 마이페이지 햄버거메뉴 */
        $(document).ready(function(){
            $(".mySub").hide();
            $(".myMenu").click(function(){
                $("ul",this).slideToggle("fast");
            });
        });

        $("body").click(function(e){
            if(!$(".myMenu").has(e.target).length){
                $(".mySub").hide();
            }
        });


        /* 알림 아이콘 클릭 시 아이콘 변경 */
        $(".heart").click(function(){
            $('.heartIcon').attr('src','./images/icon/menu/iconmonstr-favorite-3-72.png');
        });

        // 다른곳 클릭하면 하트 원래대로
        $("body").click(function(e){
            if(!$(".heart").has(e.target).length){
                $('.heartIcon').attr('src','./images/icon/menu/iconmonstr-heart-thin-72.png');
            }
        });
        
        ///////////////////////////////////////////////////////////무한 스크롤///////////////////////////////////////////////////////
        console.log("start");
        //Javascript
        var count = 0;
        //스크롤 바닥 감지
        window.onscroll = function (e) {
            console.log("function is start");
            //추가되는 임시 콘텐츠
            //window height + window scrollY 값이 document height보다 클 경우,
            if ((window.innerHeight + window.scrollY) >= document.body.offsetHeight) {
                //실행할 로직 (콘텐츠 추가)
                count++;
                var addContent = '<tr><td><div class="content"></div></td><td><div class="content"></div></td><td><div class="content"></div></td></tr>';
                //article에 추가되는 콘텐츠를 append
                $('.ctable').children().children().append(addContent);
                console.log("function is end");
                console.log($('.ctable').children().children());
            }
        };
        ///////////////////////////////////////////////////////////무한 스크롤 끝 ///////////////////////////////////////////////////////
      </script>

      
</body>
</html>